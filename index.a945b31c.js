!function(e,a){void 0===a&&n("Pagination requires jQuery.");var t="pagination",o="__pagination-";a.fn.pagination&&n('plugin conflicted, the name "pagination" has been taken by another jQuery plugin.'),a.fn[t]=function(s){if(void 0===s)return this;var l=a(this),c=a.extend({},a.fn[t].defaults,s);if(l.data("pagination")&&!0===l.data("pagination").initialized){if(r(s))return l.trigger.call(this,o+"go",s,arguments[1]),this;if("string"==typeof s){var u=Array.prototype.slice.apply(arguments);switch(u[0]=o+u[0],s){case"previous":case"next":case"go":case"disable":case"enable":case"refresh":case"show":case"hide":case"destroy":l.trigger.apply(this,u);break;case"getSelectedPageNum":case"getCurrentPageNum":if(l.data("pagination").model)return l.data("pagination").model.pageNumber;return l.data("pagination").attributes.pageNumber;case"getTotalPage":return Math.ceil(l.data("pagination").model.totalNumber/l.data("pagination").model.pageSize);case"getSelectedPageData":case"getCurrentPageData":return l.data("pagination").currentPageData;case"isDisabled":return!0===l.data("pagination").model.disabled;default:n("Unknown action: "+s)}return this}a.each(["go","previous","next","disable","enable","refresh","show","hide","destroy"],function(e,a){l.off(o+a)}),l.data("pagination",{}),a(".paginationjs",l).remove()}else i.isObject(s)||n("Illegal options");return c.dataSource||n('"dataSource" is required.'),"string"==typeof c.dataSource?void 0===c.totalNumberLocator?void 0===c.totalNumber?n('"totalNumber" is required.'):r(c.totalNumber)||n('"totalNumber" is incorrect. Expect numberic type'):"function"!=typeof c.totalNumberLocator&&n('"totalNumberLocator" should be a Function.'):i.isObject(c.dataSource)&&(void 0===c.locator?n('"dataSource" is an Object, please specify a "locator".'):"string"!=typeof c.locator&&"function"!=typeof c.locator&&n(""+c.locator+" is incorrect. Expect string or function type")),void 0!==c.formatResult&&"function"!=typeof c.formatResult&&n('"formatResult" should be a Function.'),void 0!==c.onError&&"function"!=typeof c.onError&&n('"onError" should be a Function.'),({initialize:function(){var e=this;if(l.data("pagination")||l.data("pagination",{}),!1!==e.callHook("beforeInit")){l.data("pagination").initialized&&a(".paginationjs",l).remove(),e.disabled=!!c.disabled;var t=e.model={pageRange:c.pageRange,pageSize:c.pageSize};e.parseDataSource(c.dataSource,function(a){e.isAsync=i.isString(a),i.isArray(a)&&(t.totalNumber=c.totalNumber=a.length),e.isDynamicTotalNumber=e.isAsync&&c.totalNumberLocator;var o=e.render(!0);c.className&&o.addClass(c.className),t.el=o,l["bottom"===c.position?"append":"prepend"](o),e.observer(),l.data("pagination").initialized=!0,e.callHook("afterInit",o)})}},render:function(e){var t=this.model,o=t.el||a('<div class="paginationjs"></div>'),i=!0!==e;this.callHook("beforeRender",i);var n=t.pageNumber||c.pageNumber,r=c.pageRange||0,s=this.getTotalPage(),l=n-r,u=n+r;return u>s&&(u=s,l=(l=s-2*r)<1?1:l),l<=1&&(l=1,u=Math.min(2*r+1,s)),o.html(this.generateHTML({currentPage:n,pageRange:r,rangeStart:l,rangeEnd:u})),c.hideOnlyOnePage&&o[s<=1?"hide":"show"](),this.callHook("afterRender",i),o},getPageLinkTag:function(e){var a=c.pageLink;return a?`<a href="${a}">${e}</a>`:`<a>${e}</a>`},generatePageNumbersHTML:function(e){var a,t=e.currentPage,o=this.getTotalPage(),i=this.getPageLinkTag,n=e.rangeStart,r=e.rangeEnd,s="",l=c.ellipsisText,u=c.classPrefix,g=c.pageClassName||"",p=c.activeClassName||"",d=c.disableClassName||"";if(null===c.pageRange){for(a=1;a<=o;a++)a==t?s+=`<li class="${u}-page J-paginationjs-page ${g} ${p}" data-num="${a}"><a>${a}</a></li>`:s+=`<li class="${u}-page J-paginationjs-page ${g}" data-num="${a}">${i(a)}</li>`;return s}if(n<=3)for(a=1;a<n;a++)a==t?s+=`<li class="${u}-page J-paginationjs-page ${g} ${p}" data-num="${a}"><a>${a}</a></li>`:s+=`<li class="${u}-page J-paginationjs-page ${g}" data-num="${a}">${i(a)}</li>`;else c.hideFirstOnEllipsisShow||(s+=`<li class="${u}-page ${u}-first J-paginationjs-page ${g}" data-num="1">${i(1)}</li>`),s+=`<li class="${u}-ellipsis ${d}"><a>${l}</a></li>`;for(a=n;a<=r;a++)a==t?s+=`<li class="${u}-page J-paginationjs-page ${g} ${p}" data-num="${a}"><a>${a}</a></li>`:s+=`<li class="${u}-page J-paginationjs-page ${g}" data-num="${a}">${i(a)}</li>`;if(r>=o-2)for(a=r+1;a<=o;a++)s+=`<li class="${u}-page J-paginationjs-page ${g}" data-num="${a}">${i(a)}</li>`;else s+=`<li class="${u}-ellipsis ${d}"><a>${l}</a></li>`,c.hideLastOnEllipsisShow||(s+=`<li class="${u}-page ${u}-last J-paginationjs-page ${g}" data-num="${o}">${i(o)}</li>`);return s},generateHTML:function(e){var a,t=e.currentPage,o=this.getTotalPage(),n=this.getPageLinkTag,r=this.getTotalNumber(),s=c.pageSize,l=c.showPrevious,u=c.showNext,g=c.showPageNumbers,p=c.showNavigator,d=c.showSizeChanger,f=c.sizeChangerOptions,m=c.showGoInput,h=c.showGoButton,b=c.prevText,v=c.nextText,y=c.goButtonText,N=c.classPrefix,k=c.disableClassName||"",j=c.ulClassName||"",x=c.prevClassName||"",P=c.nextClassName||"",S="",T='<select class="J-paginationjs-size-select">',w='<input type="text" class="J-paginationjs-go-pagenumber">',C=`<input type="button" class="J-paginationjs-go-button" value="${y}">`,I="function"==typeof c.formatSizeChanger?c.formatSizeChanger(t,o,r):c.formatSizeChanger,J="function"==typeof c.formatNavigator?c.formatNavigator(t,o,r):c.formatNavigator,O="function"==typeof c.formatGoInput?c.formatGoInput(w,t,o,r):c.formatGoInput,z="function"==typeof c.formatGoButton?c.formatGoButton(C,t,o,r):c.formatGoButton,H="function"==typeof c.autoHidePrevious?c.autoHidePrevious():c.autoHidePrevious,D="function"==typeof c.autoHideNext?c.autoHideNext():c.autoHideNext,E="function"==typeof c.header?c.header(t,o,r):c.header,L="function"==typeof c.footer?c.footer(t,o,r):c.footer;if(E&&(S+=a=this.replaceVariables(E,{currentPage:t,totalPage:o,totalNumber:r})),p&&J&&(S+=`<div class="${N}-nav J-paginationjs-nav">${a=this.replaceVariables(J,{currentPage:t,totalPage:o,totalNumber:r,rangeStart:(t-1)*s+1,rangeEnd:Math.min(t*s,r)})}</div>`),(l||g||u)&&(S+='<div class="paginationjs-pages">',j?S+=`<ul class="${j}">`:S+="<ul>",l&&(t<=1?H||(S+=`<li class="${N}-prev ${k} ${x}"><a>${b}</a></li>`):S+=`<li class="${N}-prev J-paginationjs-previous ${x}" data-num="${t-1}" title="Previous page">${n(b)}</li>`),g&&(S+=this.generatePageNumbersHTML(e)),u&&(t>=o?D||(S+=`<li class="${N}-next ${k} ${P}"><a>${v}</a></li>`):S+=`<li class="${N}-next J-paginationjs-next ${P}" data-num="${t+1}" title="Next page">${n(v)}</li>`),S+="</ul></div>"),d&&i.isArray(f)){-1===f.indexOf(s)&&(f.unshift(s),f.sort((e,a)=>e-a));for(let e=0;e<f.length;e++)T+=`<option value="${f[e]}"${f[e]===s?" selected":""}>${f[e]} / page</option>`;T+="</select>",a=T,I&&(a=this.replaceVariables(I,{length:T,total:r})),S+=`<div class="paginationjs-size-changer">${a}</div>`}return m&&O&&(S+=`<div class="${N}-go-input">${a=this.replaceVariables(O,{currentPage:t,totalPage:o,totalNumber:r,input:w})}</div>`),h&&z&&(S+=`<div class="${N}-go-button">${a=this.replaceVariables(z,{currentPage:t,totalPage:o,totalNumber:r,button:C})}</div>`),L&&(S+=a=this.replaceVariables(L,{currentPage:t,totalPage:o,totalNumber:r})),S},findTotalNumberFromRemoteResponse:function(e){this.model.totalNumber=c.totalNumberLocator(e)},go:function(e,t){var o=this,n=o.model;if(!o.disabled){var r=e;if((r=parseInt(r))&&!(r<1)){var s=c.pageSize,u=o.getTotalNumber(),g=o.getTotalPage();if(!(u>0)||!(r>g)){if(!o.isAsync){v(o.getPagingData(r));return}var p={},d=c.alias||{},f=d.pageSize?d.pageSize:"pageSize",m=d.pageNumber?d.pageNumber:"pageNumber";p[f]=s,p[m]=r;var h="function"==typeof c.ajax?c.ajax():c.ajax;h&&h.pageNumberStartWithZero&&(p[m]=r-1);var b={type:"get",cache:!1,data:{},contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"json",async:!0};a.extend(!0,b,h),a.extend(b.data,p),b.url=c.dataSource,b.success=function(e){try{o.model.originalResponse=e,o.isDynamicTotalNumber?o.findTotalNumberFromRemoteResponse(e):o.model.totalNumber=c.totalNumber;var a=o.filterDataWithLocator(e);v(a)}catch(e){if("function"==typeof c.onError)c.onError(e,"ajaxSuccessHandlerError");else throw e}},b.error=function(e,a,t){c.formatAjaxError&&c.formatAjaxError(e,a,t),o.enable()},o.disable(),c.ajaxFunction?c.ajaxFunction(b):a.ajax(b)}}}function v(e){if(!1===o.callHook("beforePaging",r))return!1;if(n.direction=void 0===n.pageNumber?0:r>n.pageNumber?1:-1,n.pageNumber=r,o.render(),o.disabled&&o.isAsync&&o.enable(),l.data("pagination").model=n,c.formatResult){var s=a.extend(!0,[],e);i.isArray(e=c.formatResult(s))||(e=s)}l.data("pagination").currentPageData=e,o.doCallback(e,t),o.callHook("afterPaging",r),1==r?o.callHook("afterIsFirstPage"):r==o.getTotalPage()&&o.callHook("afterIsLastPage")}},doCallback:function(e,a){var t=this.model;"function"==typeof a?a(e,t):"function"==typeof c.callback&&c.callback(e,t)},destroy:function(){!1!==this.callHook("beforeDestroy")&&(this.model.el.remove(),l.off(),a("#paginationjs-style").remove(),this.callHook("afterDestroy"))},previous:function(e){this.go(this.model.pageNumber-1,e)},next:function(e){this.go(this.model.pageNumber+1,e)},disable:function(){var e=this.isAsync?"async":"sync";!1!==this.callHook("beforeDisable",e)&&(this.disabled=!0,this.model.disabled=!0,this.callHook("afterDisable",e))},enable:function(){var e=this.isAsync?"async":"sync";!1!==this.callHook("beforeEnable",e)&&(this.disabled=!1,this.model.disabled=!1,this.callHook("afterEnable",e))},refresh:function(e){this.go(this.model.pageNumber,e)},show:function(){this.model.el.is(":visible")||this.model.el.show()},hide:function(){this.model.el.is(":visible")&&this.model.el.hide()},replaceVariables:function(e,a){var t;for(var o in a){var i=a[o],n=RegExp("<%=\\s*"+o+"\\s*%>","img");t=(t||e).replace(n,i)}return t},getPagingData:function(e){var a=c.pageSize,t=c.dataSource,o=Math.min(e*a,this.getTotalNumber());return t.slice(a*(e-1)+1-1,o)},getTotalNumber:function(){return this.model.totalNumber||c.totalNumber||0},getTotalPage:function(){return Math.ceil(this.getTotalNumber()/c.pageSize)},getLocator:function(e){var a;return"string"==typeof e?a=e:"function"==typeof e?a=e():n('"locator" is incorrect. Expect string or function type.'),a},filterDataWithLocator:function(e){var t,o=this.getLocator(c.locator);if(i.isObject(e)){try{a.each(o.split("."),function(a,o){t=(t||e)[o]})}catch(e){}t?i.isArray(t)||n("dataSource."+o+" should be an Array."):n("dataSource."+o+" is undefined.")}return t||e},parseDataSource:function(e,a){var t=this;i.isObject(e)?a(c.dataSource=t.filterDataWithLocator(e)):i.isArray(e)?a(c.dataSource=e):"function"==typeof e?c.dataSource(function(e){i.isArray(e)||n('The parameter of "done" Function should be an Array.'),t.parseDataSource.call(t,e,a)}):"string"==typeof e?(/^https?|file:/.test(e)&&(c.ajaxDataType="jsonp"),a(e)):n("Unexpected dataSource type")},callHook:function(t){var o,i=l.data("pagination")||{},n=Array.prototype.slice.apply(arguments);return n.shift(),c[t]&&"function"==typeof c[t]&&!1===c[t].apply(e,n)&&(o=!1),i.hooks&&i.hooks[t]&&a.each(i.hooks[t],function(a,t){!1===t.apply(e,n)&&(o=!1)}),!1!==o},observer:function(){var e=this,t=e.model.el;l.on(o+"go",function(a,t,o){"string"==typeof t&&(t=parseInt(t.trim())),t&&("number"!=typeof t&&n('"pageNumber" is incorrect. (Number)'),e.go(t,o))}),t.on("click",".J-paginationjs-page",function(t){var o=a(t.currentTarget),i=o.attr("data-num").trim();if(!(!i||o.hasClass(c.disableClassName)||o.hasClass(c.activeClassName))&&(!1===e.callHook("beforePageOnClick",t,i)||(e.go(i),e.callHook("afterPageOnClick",t,i),!c.pageLink)))return!1}),t.on("click",".J-paginationjs-previous",function(t){var o=a(t.currentTarget),i=o.attr("data-num").trim();if(!(!i||o.hasClass(c.disableClassName))&&(!1===e.callHook("beforePreviousOnClick",t,i)||(e.go(i),e.callHook("afterPreviousOnClick",t,i),!c.pageLink)))return!1}),t.on("click",".J-paginationjs-next",function(t){var o=a(t.currentTarget),i=o.attr("data-num").trim();if(!(!i||o.hasClass(c.disableClassName))&&(!1===e.callHook("beforeNextOnClick",t,i)||(e.go(i),e.callHook("afterNextOnClick",t,i),!c.pageLink)))return!1}),t.on("click",".J-paginationjs-go-button",function(i){var n=a(".J-paginationjs-go-pagenumber",t).val();if(!1===e.callHook("beforeGoButtonOnClick",i,n))return!1;l.trigger(o+"go",n),e.callHook("afterGoButtonOnClick",i,n)}),t.on("keyup",".J-paginationjs-go-pagenumber",function(i){if(13===i.which){var n=a(i.currentTarget).val();if(!1===e.callHook("beforeGoInputOnEnter",i,n))return!1;l.trigger(o+"go",n),a(".J-paginationjs-go-pagenumber",t).focus(),e.callHook("afterGoInputOnEnter",i,n)}}),t.on("change",".J-paginationjs-size-select",function(t){var o=parseInt(a(t.currentTarget).val()),i=e.model.pageNumber||c.pageNumber;if("number"==typeof o&&(!1===e.callHook("beforeSizeSelectorChange",t,o)||(c.pageSize=o,e.model.pageSize=o,e.model.totalPage=e.getTotalPage(),i>e.model.totalPage&&(i=e.model.totalPage),e.go(i),e.callHook("afterSizeSelectorChange",t,o),!c.pageLink)))return!1}),l.on(o+"previous",function(a,t){e.previous(t)}),l.on(o+"next",function(a,t){e.next(t)}),l.on(o+"disable",function(){e.disable()}),l.on(o+"enable",function(){e.enable()}),l.on(o+"refresh",function(a,t){e.refresh(t)}),l.on(o+"show",function(){e.show()}),l.on(o+"hide",function(){e.hide()}),l.on(o+"destroy",function(){e.destroy()});var i=Math.max(e.getTotalPage(),1),r=c.pageNumber;e.isDynamicTotalNumber&&c.resetPageNumberOnInit&&(r=1),c.triggerPagingOnInit&&l.trigger(o+"go",Math.min(r,i))}}).initialize(),this},a.fn[t].defaults={totalNumber:0,pageNumber:1,pageSize:10,pageRange:2,showPrevious:!0,showNext:!0,showPageNumbers:!0,showNavigator:!1,showGoInput:!1,showGoButton:!1,showSizeChanger:!1,sizeChangerOptions:[10,20,50,100],pageLink:"",prevText:"&lsaquo;",nextText:"&rsaquo;",ellipsisText:"...",goButtonText:"Go",classPrefix:"paginationjs",activeClassName:"active",disableClassName:"disabled",formatNavigator:"Total <%= totalNumber %> items",formatGoInput:"<%= input %>",formatGoButton:"<%= button %>",position:"bottom",autoHidePrevious:!1,autoHideNext:!1,triggerPagingOnInit:!0,resetPageNumberOnInit:!0,hideOnlyOnePage:!1,hideFirstOnEllipsisShow:!1,hideLastOnEllipsisShow:!1,callback:function(){}},a.fn.addHook=function(e,t){arguments.length<2&&n("Expect 2 arguments at least."),"function"!=typeof t&&n("callback should be a function.");var o=a(this),i=o.data("pagination");i||(o.data("pagination",{}),i=o.data("pagination")),i.hooks||(i.hooks={}),i.hooks[e]=i.hooks[e]||[],i.hooks[e].push(t)},a[t]=function(e,t){var o;if(arguments.length<2&&n("Requires two parameters."),(o="string"!=typeof e&&e instanceof jQuery?e:a(e)).length)return o.pagination(t),o};var i={};function n(e){throw Error("Pagination: "+e)}function r(e){return!isNaN(parseFloat(e))&&isFinite(e)}a.each(["Object","Array","String"],function(e,a){i["is"+a]=function(e){var t;return("object"==(t=typeof e)?null==e&&"null"||Object.prototype.toString.call(e).slice(8,-1):t).toLowerCase()===a.toLowerCase()}}),"function"==typeof define&&define.amd&&define(function(){return a})}({},window.jQuery);const e={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI1MDc5M2YzM2IyY2RmNjAxMmUwZjE5MTQ2YTc1MDQxZCIsInN1YiI6IjY0YmFlZTFhNDM1MDExMDBjNzExMGNmYSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.jo-IqaDv0MIxcDvkX6ICfBTex8-DDD-e2pyktP9k_W4"}};let a=[],t=1,o=!1;function i(e){let a=1900,t='<ul class="gallery_movies">';for(let o=0;o<e.length;o++)void 0!=e[o].release&&(a=e[o].release.slice(0,4)),t+=`
    <li class="movie-card">
                    <img class="movie-card__image" src="${e[o].poster}" alt="${e[o].title}" loading="lazy"/>
                    <div class="movie-card__text">
                      <h2 class="movie-card__text--title">${e[o].title}</h2>
                        <p class="movie-card__text--info">${e[o].genre} | ${a}</p>
                        <p class="movie-card__text--vote">${e[o].vote}</p>
                    </div>
</li>
`;return t+" </ul>"}fetch("https://api.themoviedb.org/3/movie/popular",e).then(e=>e.json()).then(n=>{console.log(n),(t=n.total_results)>1e4&&(t=1e4);for(let e=1;e<=t;e++)a.push(e);for(let e=1;e<=20;e++)a[e-1]={title:n.results[e-1].title,poster:"https://image.tmdb.org/t/p/w300"+n.results[e-1].poster_path,genre:n.results[e-1].genre_ids,release:n.results[e-1].release_date,vote:n.results[e-1].vote_average};$("#pagination-container").pagination({dataSource:a,pageSize:10,pageRange:2,showPageNumbers:!0,showNavigator:!0,prevText:"prev",nextText:"next",showGoInput:!0,className:"paginationjs-theme-blue",beforePaging:function(t){let i=1;if(10*t%20==0?console.log(`page: ${i=Math.floor(10*t/20)}`):console.log(`page: ${i=Math.floor(10*t/20)+1}`),i>1){var n;(n=i)<1&&(n=1),n>500&&(n=500),o=!0,fetch(`https://api.themoviedb.org/3/movie/popular?page=${n}`,e).then(e=>(console.log(`Jest FETCH page ${n}`),e.json())).then(e=>{console.log(`Jest then po Fetch, page: ${n}`);for(let t=1;t<=e.results.length;t++)console.log(20*(n-1)+t-1),console.log(e.results[t-1]),a[20*(n-1)+t-1]={title:e.results[t-1].title,poster:"https://image.tmdb.org/t/p/w300"+e.results[t-1].poster_path,genre:e.results[t-1].genre_ids,release:e.results[t-1].release_date,vote:e.results[t-1].vote_average};o=!1}).catch(e=>{console.error("Błąd! Error:"+e)})}},callback:function(e,t){console.log(e),setTimeout(()=>{let e=10*t.pageNumber-10,n=e+10-1;var r=i(a.slice(e,n+1));$("#data-container").html(r),!0===o&&setTimeout(()=>{var t=i(a.slice(e,n+1));$("#data-container").html(t)},1e3)},400)}})}).catch(e=>console.error("error:"+e));const n=document.querySelector(".movie-card"),r=document.querySelector(".modal"),s=document.querySelector("#close-btn");n.addEventListener("click",function(){r.style.display="block"}),s.addEventListener("click",function(){r.style.display="none"}),window.onclick=function(e){e.target==r&&(r.style.display="none")};const l=document.querySelector(".footer__button"),c=document.querySelector(".footer__modal"),u=document.querySelector(".footer__close-btn");l.addEventListener("click",function(){c.style.display="block"}),u.addEventListener("click",function(){c.style.display="none"}),window.onclick=function(e){e.target==c&&(c.style.display="none")};const g="https://api.themoviedb.org/3";async function p(e,a,t){let o=new URL(`${g}/list`),i={method:"POST",headers:{accept:"application/json","content-type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJkODMyYmE2NmJlOTQ2OTAxZDQ4ZTNlYzA4ODAwNzA5NiIsInN1YiI6IjY0YmViZjk1ODVjMGEyMDBjODk5MDIwMCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.ibmvsUJMSQZD2lskIdqLPXqS0--iP8mlOeSyowb1a2I"},body:JSON.stringify({name:e,description:a,language:t})},n=await fetch(o,i);return n}(async function(){let e=new URL(`${g}/trending/movie/day`);e.searchParams.append("api_key","d832ba66be946901d48e3ec088007096");let a=await fetch(e),t=await a.json();return t})().then(e=>{e.results.forEach(e=>{console.log(e)})}),p("Do obejrzenia","Lista film\xf3w kt\xf3re chcę obejrzeć","pl").then(e=>e.json()).then(e=>console.log(e)).catch(e=>console.error(e));
//# sourceMappingURL=index.a945b31c.js.map
